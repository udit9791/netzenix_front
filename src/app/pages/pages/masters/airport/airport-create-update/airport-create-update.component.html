<form [formGroup]="form" (ngSubmit)="save()">
  <div mat-dialog-title class="flex items-center justify-between">
    <h2 class="headline m-0 text-xl font-medium">{{ isCreateMode() ? 'New Airport' : 'Edit Airport' }}</h2>
    <button class="text-secondary" mat-dialog-close mat-icon-button type="button">
      <mat-icon svgIcon="mat:close"></mat-icon>
    </button>
  </div>

  <mat-dialog-content>
    <div class="flex flex-col">
      <mat-form-field class="mt-6">
        <mat-label>Code</mat-label>
        <input matInput formControlName="code" required>
        <mat-error *ngIf="form.get('code')?.hasError('required')">
          Code is required
        </mat-error>
        <mat-error *ngIf="form.get('code')?.hasError('maxlength')">
          Code cannot exceed 10 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field class="mt-6">
        <mat-label>City</mat-label>
        <input matInput formControlName="city" required>
        <mat-error *ngIf="form.get('city')?.hasError('required')">
          City is required
        </mat-error>
        <mat-error *ngIf="form.get('city')?.hasError('maxlength')">
          City name cannot exceed 255 characters
        </mat-error>
      </mat-form-field>

      <mat-form-field class="mt-6">
        <mat-label>Country</mat-label>
        <mat-select formControlName="country" required [compareWith]="compareCountryFn">
          <mat-option *ngFor="let country of countries" [value]="country.id">
            {{ country.name }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('country')?.hasError('required')">
          Country is required
        </mat-error>
      </mat-form-field>

      <div class="mt-6 flex items-center">
        <mat-slide-toggle formControlName="is_active" color="primary">
          Active
        </mat-slide-toggle>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close type="button">Cancel</button>
    <button color="primary" mat-raised-button type="submit" [disabled]="form.invalid || isLoading">
      {{ isCreateMode() ? 'Create' : 'Update' }}
    </button>
  </mat-dialog-actions>
</form>